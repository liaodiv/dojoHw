<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="widget/custom.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
</head>
<body>
<div>
    <div id="authorContainer">
        <span class="icon-camera"></span>
        <span class="icon-diamonds"></span>

    </div>
    <div id="customContainer"></div>
</div>

<script>
    dojoConfig ={
        async:true,
        baseUrl:location.pathname.replace(/\/[^/]*$/, '')+"/lib/",
        packages:[
            {
                name: "dojo",
                location: "dojo"
            },
            {
                name:"dijit",
                location:"dijit"
            },
            {
                name:"dojox",
                location:"/dojox"
            },
            {
                name:"util",
                location:"/util"
            },
            {
                name:"src",
                location:"../src"
            }
            ]
    };
</script>
<script src="./lib/dojo/dojo.js"></script>
<script>
 /*   require(["dojo/request","dojo/dom","dojo/_base/array","src/getTemplate"],
        function (request,dom,arrayUtil,testWidget) {
        var authorContainer = dom.byId("authorContainer");

        var widget = new testWidget().placeAt(authorContainer);



        })*/

    require(["dojo/request","dojo/dom","dojo/_base/array","src/AuthorWidget","dojo/domReady!"],function (request, dom, arrayUtil, AuthorWidget) {
        request("./data/data.json", {
            handleAs: "json"
        }).then(function (datas) {
            console.log(datas);
            var customContainer = dom.byId("customContainer");

            arrayUtil.forEach(datas,function (data) {
                var widget =new AuthorWidget(data).placeAt(customContainer);
            })
        })
    })



</script>
</body>

</html>